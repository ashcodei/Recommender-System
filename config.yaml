data:
  mode: folder
  images_root: /path/to/images_root
  pairs_csv: /path/to/pairs.csv
  candidate_list_csv: /path/to/candidates.csv
  query_gt_csv: /path/to/query_gt.csv

train:
  batch_size: 128
  num_workers: 8
  epochs: 10
  lr: 0.0002
  weight_decay: 0.01
  temperature: 0.07
  amp: true
  log_every: 50
  ckpt_path: checkpoints/two_tower.pt

model:
  backbone: resnet50
  embedding_dim: 256
  freeze_backbone: false

index:
  type: flat
  metric: ip
  use_gpu: false
  nlist: 4096
  m_pq: 32
  nbits: 8
  index_path: indexes/faiss.index
  idmap_path: indexes/idmap.npy

query:
  topk: 10
  warmup: 10
  runs: 100
